---
title: rei task
description: Manage tasks discovered from notes
icon: ListTodo
---

Manage tasks discovered from notes and markdown files. Tasks are extracted from checkbox items (`- [ ]` / `- [x]`) in notes attached to intentions, actions, outcomes, and reflections.

## Subcommands

### list

List tasks for an entity.

```bash
rei task list [options]
```

**Options:**
- `-i, --intention <id>` — List tasks for an intention
- `-a, --action <id>` — List tasks for an action
- `-o, --outcome <id>` — List tasks for an outcome
- `-r, --reflection <id>` — List tasks for a reflection
- `--all` — List all tasks across all entities (makes entity selection optional)
- `--include-completed` — Include completed tasks in output
- `--include-abandoned` — Include abandoned tasks in output
- `--abandoned-only` — Show only abandoned tasks
- `--due-before <date>` — Filter tasks due before DATE (YYYY-MM-DD)
- `--due-after <date>` — Filter tasks due after DATE (YYYY-MM-DD)
- `--due-today` — Show only tasks due today
- `--overdue` — Show only overdue tasks
- `--sort-due` — Sort by due date (earliest first)

> **FZF Support:** If no entity ID is provided and `--all` is not specified, an interactive picker will let you select from available entities.

**Examples:**

```bash
# List tasks for an intention
rei task list -i intention_01abc...

# List tasks including completed ones
rei task list -i intention_01abc... --include-completed

# List all tasks across all entities
rei task list --all

# List all tasks including completed
rei task list --all --include-completed

# List abandoned tasks
rei task list --all --abandoned-only

# List all tasks including abandoned
rei task list --all --include-abandoned

# Show tasks due today
rei task list --due-today

# Show all overdue tasks sorted by due date
rei task list --all --overdue --sort-due

# Show tasks due before a specific date
rei task list --due-before 2026-01-15

# Interactive selection with fzf
rei task list
```

**Output:**
- Pending tasks shown with `[ ]`
- Completed tasks shown with `[x]`
- Abandoned tasks shown with `[-]`
- Due date indicators: `[OVERDUE Nd]`, `[DUE TODAY]`, `[DUE TOMORROW]`
- Source note ID shown for each task (e.g., `Source: note_01xyz...`)

### complete

Mark a task as complete.

```bash
rei task complete <task-id> [options]
```

**Arguments:**
- `<task-id>` — Task ID (required)

**Options:**
- `-c, --at <time>` — When the task was completed (defaults to now)

**Time Expressions (--at):**

The `--at` option accepts both relative time expressions and absolute ISO 8601 timestamps:

*Relative times:*
- Keywords: `now`, `today`, `yesterday`, `tomorrow`
- Natural expressions: `2 hours ago`, `30 minutes ago`, `1 day ago`
- Short forms: `-2h`, `-30m`, `-1d`, `2h`, `30m`

*Absolute timestamps (ISO 8601):*
- UTC: `2024-01-15T14:30:00Z`
- With timezone offset: `2024-01-15T14:30:00+09:00`

**Examples:**

```bash
# Complete now
rei task complete task_01abc...

# Complete with backdating
rei task complete task_01abc... --at yesterday

# Complete at a specific time
rei task complete task_01abc... --at "2 hours ago"
```

**Notes:**
- Automatically syncs checkbox state to the original markdown file(s)
- Updates all notes containing the task
- Use `--at` to backdate completions when you forgot to mark them

### abandon

Mark a task as abandoned.

```bash
rei task abandon <task-id> [options]
```

**Arguments:**
- `<task-id>` — Task ID (required)

**Options:**
- `-r, --reason <reason>` — Reason for abandoning (optional)
- `-c, --at <time>` — When the task was abandoned (defaults to now)

**Time Expressions (--at):**

The `--at` option accepts both relative time expressions and absolute ISO 8601 timestamps (same as `--at` on `complete`).

**Examples:**

```bash
# Abandon now
rei task abandon task_01abc...

# Abandon with reason
rei task abandon task_01abc... --reason "No longer relevant"

# Abandon with backdating
rei task abandon task_01abc... --at yesterday --reason "Decided not to pursue"
```

**Notes:**
- Abandoned tasks are excluded from default listings (use `--include-abandoned` to show)
- Abandoned tasks display with `[-]` icon and show their reason if provided
- Abandoned tasks can be reopened with `rei task reopen`
- When a parent intention is abandoned, all its pending tasks are automatically abandoned with the reason "Parent intention abandoned"

### reopen

Reopen a completed or abandoned task.

```bash
rei task reopen <task-id>
```

**Arguments:**
- `<task-id>` — Task ID (required)

**Notes:**
- Works on both completed and abandoned tasks
- Automatically syncs checkbox state to the original markdown file(s)

### open-note

Open the note containing a task.

```bash
rei task open-note [task-id]
```

**Arguments:**
- `[task-id]` — Task ID (optional if fzf is available)

> **FZF Support:** If the task ID is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from available tasks.

**Behavior:**
- Opens the note containing the task in your `$EDITOR`
- If a task exists in multiple notes (same text content), presents an FZF menu to choose which note to open

**Examples:**

```bash
# Open the note for a specific task
rei task open-note task_01abc...

# Let fzf pick the task
rei task open-note
```

### due

Set or clear a task's due date.

```bash
rei task due <task-id> [date]
```

**Arguments:**
- `<task-id>` — Task ID (required)
- `[date]` — Due date (optional, see formats below)

**Options:**
- `--clear` — Clear the due date

**Date formats:**
- `YYYY-MM-DD` — Absolute date (e.g., `2026-01-15`)
- `today` — Today's date
- `tomorrow` — Tomorrow's date
- `+Nd` — N days from today (e.g., `+3d` for 3 days)
- `+Nw` — N weeks from today (e.g., `+1w` for 1 week)

**Examples:**

```bash
# Set due date to specific date
rei task due task_01abc... 2026-01-15

# Set due date to tomorrow
rei task due task_01abc... tomorrow

# Set due date to 3 days from now
rei task due task_01abc... +3d

# Set due date to 2 weeks from now
rei task due task_01abc... +2w

# Clear the due date
rei task due task_01abc... --clear
```

## Task Status

Tasks have three possible statuses:

| Status | Icon | Description |
|--------|------|-------------|
| **Pending** | `[ ]` | Task is waiting to be done |
| **Completed** | `[x]` | Task has been marked complete |
| **Abandoned** | `[-]` | Task was abandoned (no longer relevant) |

**Lifecycle:**
- New tasks start as **Pending**
- Use `complete` to mark as **Completed**
- Use `abandon` to mark as **Abandoned** (with optional reason)
- Use `reopen` to return either Completed or Abandoned tasks to **Pending**

**Cascade Abandonment:**
When an intention is abandoned via `rei intention abandon`, all of its pending tasks are automatically abandoned with the reason "Parent intention abandoned".

## How Tasks Work

Tasks are automatically discovered when you:
1. Create or update a note attached to an entity (intention, action, outcome, reflection)
2. The note contains markdown checkbox items

**Checkbox syntax:**

```markdown
- [ ] This is a pending task
- [x] This is a completed task
- [-] This is an abandoned task
```

When you complete/reopen a task via the CLI, Rei automatically updates the checkbox in the original markdown file(s).

## Due Date Display

When listing tasks, due dates are displayed with helpful indicators:

| Status | Display |
|--------|---------|
| Overdue by N days | `[OVERDUE Nd]` (highlighted) |
| Due today | `[DUE TODAY]` |
| Due tomorrow | `[DUE TOMORROW]` |
| Future due date | Shows date only |

Completed tasks don't show overdue indicators.
