---
title: rei action
description: Record actions taken toward intentions
icon: Zap
---

Record actions taken toward intentions. Actions are the concrete steps and work you do.

## Subcommands

### record

Record an action for an intention.

```bash
rei action record [description] [options]
```

**Arguments:**
- `[description]` — Description of the action (optional, can be provided via stdin)

**Options:**
- `-i, --intention <id>` — Intention ID (optional if fzf is available)
- `--habit <id>` — Link to a habit (optional)
- `-t, --at <time>` — When action was completed (optional, defaults to now)
- `-d, --duration <duration>` — How long the action took (optional)

> **FZF Support:** If `-i` is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from active intentions.

**Time Semantics:**

When recording an action with a duration:
- `--at` specifies when the action was **completed** (defaults to now)
- `--duration` specifies how long the action **took**
- The start time is implicitly `completed_at - duration`

**Time Expressions (--at):**

The `--at` option accepts both relative time expressions and absolute ISO 8601 timestamps:

*Relative times:*
- Keywords: `now`, `today`, `yesterday`, `tomorrow`
- Natural expressions: `2 hours ago`, `30 minutes ago`, `1 day ago`
- Short forms: `-2h`, `-30m`, `-1d`, `2h`, `30m`

*Absolute timestamps (ISO 8601):*
- UTC: `2024-01-15T14:30:00Z`
- With timezone offset: `2024-01-15T14:30:00+09:00`, `2024-01-15T14:30:00-05:00`
- Space separator: `2024-01-15 14:30:00Z`
- Local time (uses system timezone): `2024-01-15T14:30:00`

**Duration Formats (--duration):**

The `--duration` option accepts human-friendly duration expressions:
- Minutes: `30m`, `30min`, `30 minutes`
- Hours: `1h`, `1hr`, `2 hours`
- Combined: `1h30m`, `1h 30m`
- Decimal: `1.5h`, `0.5h`
- Bare number: `90` (interpreted as minutes)

**Examples:**

```bash
# Record with description as argument
rei action record -i intention_01h455vb4pex "Implemented user authentication"

# Let fzf pick the intention interactively
rei action record "Implemented user authentication"

# Record with duration
rei action record "Wrote unit tests" --duration 45m

# Record with duration (combined format)
rei action record "Code review" -d 1h30m

# Record with description via stdin (useful for multi-line)
echo "Refactored the entire module" | rei action record -i intention_01h455vb4pex

# Record a habit-linked action with duration
rei action record --habit habit_01h455vb4pex "Wrote 500 words" -d 30m

# Record an action that finished 2 hours ago, took 45 minutes
rei action record "Fixed the bug" --at "2 hours ago" --duration 45m

# Record an action from yesterday (short form)
rei action record "Reviewed the PR" -t yesterday -d 1h

# Record using short form time
rei action record "Wrote documentation" -t "-30m" -d 20m
```

### update-description

Update the description of an existing action.

```bash
rei action update-description [action-id] [description]
```

**Arguments:**
- `[action-id]` — Action ID (optional if fzf is available)
- `[description]` — New description (optional, can be provided via stdin)

> **FZF Support:** If the action ID is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from recent actions.

**Examples:**

```bash
# Update with explicit ID and description
rei action update-description action_01h455vb4pex "Revised implementation approach"

# Let fzf pick the action
rei action update-description "Revised implementation approach"

# Provide description via stdin
echo "Multi-line description here" | rei action update-description action_01h455vb4pex
```

### update-occurred-at

Update when an action occurred. Useful for correcting mistakes when the wrong time was initially recorded.

```bash
rei action update-occurred-at <time> [options]
```

**Arguments:**
- `<time>` — When the action occurred (required, relative time expression)

**Options:**
- `-a, --action <id>` — Action ID (optional if fzf is available)
- `-i, --intention <id>` — Intention ID (optional if fzf is available)

> **FZF Support:** If IDs are not provided and [fzf](https://github.com/junegunn/fzf) is installed, interactive pickers will let you select from available options.

**Relative Time:**

The time argument accepts human-readable relative time expressions:
- Keywords: `now`, `today`, `yesterday`, `tomorrow`
- Natural expressions: `2 hours ago`, `30 minutes ago`, `1 day ago`
- Short forms: `-2h`, `-30m`, `-1d`, `2h`, `30m`

> **Note:** When using short forms starting with `-` (like `-2h`), use `--` to separate options from the argument: `rei action update-occurred-at -- -2h`

**Examples:**

```bash
# Update with explicit IDs
rei action update-occurred-at --action action_01h455vb4pex --intention intention_01xyz "2 hours ago"

# Let fzf pick the action and intention
rei action update-occurred-at "yesterday"

# Update to 30 minutes ago
rei action update-occurred-at --action action_01h455vb4pex --intention intention_01xyz "30 minutes ago"

# Using short form (note the -- separator)
rei action update-occurred-at --action action_01h455vb4pex --intention intention_01xyz -- "-2h"
```

### reassociate

Move an action from one intention to another. Useful for correcting mistakes when an action was associated with the wrong intention.

```bash
rei action reassociate [options]
```

**Options:**
- `-a, --action <id>` — Action ID (optional if fzf is available)
- `-i, --source-intention <id>` — Source intention ID (optional if fzf is available)
- `-t, --target-intention <id>` — Target intention ID (optional if fzf is available)

> **FZF Support:** If IDs are not provided and [fzf](https://github.com/junegunn/fzf) is installed, interactive pickers will let you select from available options in sequence: first the source intention, then the action, then the target intention.

**Examples:**

```bash
# Reassociate with explicit IDs
rei action reassociate \
  --action action_01h455vb4pex \
  --source-intention intention_01xyz \
  --target-intention intention_01abc

# Let fzf pick everything interactively
rei action reassociate

# Provide action ID, let fzf pick intentions
rei action reassociate --action action_01h455vb4pex
```

**Notes:**
- The action is removed from the source intention's event stream and added to the target intention's stream
- Historical data is preserved; the action retains its original occurred_at timestamp
- This is useful when actions were accidentally recorded against the wrong intention

### set-category

Assign a category to an action. Categories help classify and organize actions for reporting and filtering.

```bash
rei action set-category [-a ACTION_ID] CATEGORY_SLUG
```

**Arguments:**
- `CATEGORY_SLUG` — Category slug (e.g., 'work', 'personal/health')

**Options:**
- `-a, --action <id>` — Action ID (optional if fzf is available)

> **FZF Support:** If `-a` is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from recent actions.

**Examples:**

```bash
# Set category with explicit action ID
rei action set-category -a action_01h455vb4pex work/meeting

# Let fzf pick the action
rei action set-category work/meeting
```

### clear-category

Remove the category from an action.

```bash
rei action clear-category [-a ACTION_ID]
```

**Options:**
- `-a, --action <id>` — Action ID (optional if fzf is available)

> **FZF Support:** If `-a` is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from recent actions.

**Examples:**

```bash
# Clear category with explicit action ID
rei action clear-category -a action_01h455vb4pex

# Let fzf pick the action
rei action clear-category
```

### delete

Delete an action that was recorded in error.

```bash
rei action delete [ACTION_ID] [options]
```

**Arguments:**
- `[ACTION_ID]` — Action ID (optional if fzf is available)

**Options:**
- `-r, --reason <text>` — Reason for deleting the action (optional)

> **FZF Support:** If the action ID is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from recent actions.

**Examples:**

```bash
# Delete with explicit ID
rei action delete action_01h455vb4pex

# Delete with reason
rei action delete action_01h455vb4pex --reason "Recorded against wrong intention"

# Let fzf pick the action
rei action delete

# Let fzf pick and provide reason
rei action delete -r "Duplicate entry"
```

**Notes:**
- Only works on Active intentions
- Deletion is idempotent (deleting twice has no effect)
- The action is logically deleted, not physically removed from the event stream
- Use this when an action was recorded by mistake

## Related Commands

Actions appear in:
- `rei today` — Today's dashboard (displays durations when present)
- `rei intention show --full` — When viewing an intention
- `rei intention timeline` — Chronological history
- `rei category` — Manage categories for classifying actions
