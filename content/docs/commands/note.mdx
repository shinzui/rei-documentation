---
title: rei note
description: Create and manage markdown notes, including daily notes
icon: FileText
---

Create and manage markdown notes attached to entities, including daily notes.

## Features

### Automatic Title Extraction

Notes automatically extract their title from the first `# ` (H1) heading in the markdown content. The title is displayed in note listings and stored for querying.

### Task Extraction

Notes can contain markdown task lists (`- [ ]` and `- [x]`). Tasks are:
- Automatically discovered when notes are created or updated
- Tracked with content-based hashing for idempotency
- Propagated to their parent entities (intention, action, outcome, or reflection)
- Synchronized bidirectionally (completing a task in the note updates the entity)

## Subcommands

### new

Create a new note.

```bash
rei note new [options]
```

**Options:**
- `-i, --intention <id>` — Attach to intention (optional if fzf is available)
- `-a, --action <id>` — Attach to action
- `-o, --outcome <id>` — Attach to outcome
- `-r, --reflection <id>` — Attach to reflection
- `-h, --habit <id>` — Attach to habit
- `-t, --tag <tag>` — Add tag (repeatable)
- `-c, --category <slug>` — Category to assign (e.g., 'work/meeting')
- `--actor <name>` — Creator identifier (e.g., "user", "claude-code")
- `--stdin` — Read content from stdin instead of opening editor

Notes require an anchor entity (intention or habit), and can optionally be attached to a sub-entity (action, outcome, or reflection) when anchored to an intention.

> **FZF Support:** If `-i` is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from active intentions.

**Examples:**

```bash
# Create a note for an intention
rei note new -i intention_01h455vb4pex

# Let fzf pick the intention interactively
rei note new

# Create a note for an action with tags
rei note new -i intention_01h455vb4pex -a action_01h455vb4pex -t decision -t architecture

# Create a note for a reflection
rei note new -i intention_01h455vb4pex -r reflection_01h455vb4pex

# Create a note for a habit
rei note new --habit habit_01h455vb4pex

# Create a note with a category
rei note new -i intention_01h455vb4pex --category work/meeting
```

### today

Open or create today's daily note.

```bash
rei note today [options]
```

**Options:**
- `-d, --date <YYYY-MM-DD>` — Date for the note (defaults to today)
- `-t, --tag <tag>` — Add tag (repeatable)
- `--actor <name>` — Creator identifier (e.g., "user", "claude-code")

Daily notes are anchored to a **JournalEntry** entity — each day gets its own unique ID. This allows notes to be properly linked to a specific day while reusing all the standard note infrastructure.

**Behavior:**
1. Determines the target day (today or from `--date` override)
2. Gets or creates a JournalEntry for that day
3. Checks if a note already exists for that journal entry
4. If note exists → opens it in `$EDITOR`
5. If no note exists → creates a new note and opens it in `$EDITOR`
6. On save, emits events for async processing (title extraction, tasks)

**Examples:**

```bash
# Open or create today's daily note
rei note today

# Create/open note for a specific date
rei note today --date 2026-01-10

# Create today's note with tags
rei note today -t journal -t personal
```

**Use Cases:**
- Daily journaling and planning
- Quick capture of daily thoughts
- Daily standup notes
- Time-boxed reflection

**Daily Note Task Due Dates:**

Tasks added to daily notes automatically get a due date set to that day. For example, if you add `- [ ] Review PR` to your January 15th daily note, that task will have a due date of January 15th.

### list

List notes with their titles.

```bash
rei note list [options]
```

**Options:**
- `-i, --intention <id>` — Filter by intention (includes notes on sub-entities)
- `-a, --action <id>` — Filter by action
- `-o, --outcome <id>` — Filter by outcome
- `-r, --reflection <id>` — Filter by reflection
- `-h, --habit <id>` — Filter by habit
- `-t, --tag <tag>` — Filter by tag
- `-c, --category <slug>` — Filter by category (e.g., 'system/journal')
- `--json` — Output as JSON (for scripting)

> **FZF Support:** If no filter option is provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select an entity to filter by.

**Intention Filter — Smart Aggregation:**

When filtering by intention (`-i`), the command shows **all notes within that intention's scope**, including:
- Notes attached directly to the intention
- Notes attached to actions under that intention
- Notes attached to outcomes under that intention
- Notes attached to reflections under that intention

Notes are grouped by anchor type for readability.

**Examples:**

```bash
# List all notes for an intention (includes notes on actions, outcomes, reflections)
rei note list -i intention_01h455vb4pex

# List notes for a specific action only
rei note list -a action_01h455vb4pex

# List notes for a habit
rei note list --habit habit_01h455vb4pex

# List all notes with a specific tag
rei note list --tag architecture

# Use fzf to select an entity interactively
rei note list

# List notes by category (e.g., daily journal notes)
rei note list --category system/journal

# Output as JSON (for scripting)
rei note list --json
```

### show

Display comprehensive details about a note.

```bash
rei note show [note-id]
```

**Arguments:**
- `[note-id]` — Note ID (optional if fzf is available)

> **FZF Support:** If note ID is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from existing notes.

**Output includes:**
- Note ID and title
- File path
- Anchor information (type and ID)
- Tags (if any)
- Category (with name lookup if available)
- Embedded files with existence status (`[+]` exists, `[-]` missing)
- Attached documents with source indicator (`[cli]` explicit, `[embed]` auto-created)
- Creation and update timestamps

**Example output:**

```
Note: note_01abc123

  Title: My Project Notes
  Path: .rei/notes/note_01abc123.md

  Anchor:
    Type: intention
    ID: intention_01xyz789

  Tags: planning, architecture

  Category: projects (category_01def456)

  Embeds: (2)
    [+] ![[diagrams/architecture.png]]
    [-] ![[missing-file.pdf]]

  Docs: (2)
    [cli] attachments/design-spec.pdf
           Attached: 2024-01-15 11:00
    [embed] diagrams/architecture.png
           Attached: 2024-01-15 10:35

  Created: 2024-01-15 10:30
  Updated: 2024-01-16 14:20
```

**Examples:**

```bash
# Show details for a specific note
rei note show note_01h455vb4pex

# Use fzf to select note interactively
rei note show
```

**Use Cases:**
- Inspecting note metadata without opening the editor
- Checking which entity a note is attached to
- Verifying embedded files exist
- Viewing attached documents and their source (CLI vs auto-created from embeds)
- Viewing tags and category assignment

### open

Open a note in your editor.

```bash
rei note open [note-id]
```

**Arguments:**
- `[note-id]` — Note ID (optional if fzf is available)

> **FZF Support:** If note ID is not provided, an interactive picker will let you select from existing notes.

**Behavior:**
1. Opens the note file in your `$EDITOR`
2. After editing, computes content hash and compares with stored hash
3. If content changed, emits a `NoteContentUpdated` event
4. Title and tasks are re-extracted automatically

### add-tags

Add tags to an existing note.

```bash
rei note add-tags [note-id] -t <tag> [-t <tag>...]
```

**Arguments:**
- `[note-id]` — Note ID (optional if fzf is available)

**Options:**
- `-t, --tag <tag>` — Tag to add (required, repeatable)

**Examples:**

```bash
# Add a single tag
rei note add-tags note_01h455vb4pex -t decision

# Add multiple tags
rei note add-tags note_01h455vb4pex -t architecture -t important

# Use fzf to select note
rei note add-tags -t todo
```

### remove-tags

Remove tags from an existing note.

```bash
rei note remove-tags [note-id] -t <tag> [-t <tag>...]
```

**Arguments:**
- `[note-id]` — Note ID (optional if fzf is available)

**Options:**
- `-t, --tag <tag>` — Tag to remove (required, repeatable)

**Examples:**

```bash
# Remove a single tag
rei note remove-tags note_01h455vb4pex -t draft

# Remove multiple tags
rei note remove-tags note_01h455vb4pex -t temporary -t wip
```

### get-help

Get AI help with a note. This invokes Claude with context about the note, including its content, anchor entity, and any configured guidance.

```bash
rei note get-help [note-id] [options]
```

**Arguments:**
- `[note-id]` — Note ID (optional if fzf is available)

**Options:**
- `-f, --focus <text>` — Focus area to emphasize (e.g., 'how to break this down')
- `--no-guidance` — Skip intention and category-level note guidance
- `--include-doc` — Include content from attached documents in context
- `-i, --interactive` — Start an interactive Claude Code session
- `--debug` — Output the rendered prompt without invoking the LLM
- `--append` — Append help to the original note instead of creating a new note

> **FZF Support:** If note ID is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from existing notes.

**Behavior:**

When the agent creates a help note, it automatically includes a wikilink back to the original note (if the original has a title). This creates a navigable relationship between the notes, and the link will appear in the original note's backlinks.

**Guidance Sources:**

Guidance can come from two places, and both are included by default:
1. **Intention guidance** — Set via `intention set-note-guidance` on the anchor intention
2. **Category guidance** — Set via `category set-note-guidance` on the note's assigned category

Category guidance provides domain knowledge (e.g., "how to study kanji") while intention guidance provides user-specific context. Use `--no-guidance` to skip both.

The `--focus` flag lets you emphasize a specific aspect or question without replacing the guidance context.

**Interactive Mode:**

Use `-i` or `--interactive` to start an interactive Claude Code session instead of a one-shot response. This allows back-and-forth conversation about the note.

**Document Context:**

Use `--include-doc` to include the content of attached documents in the agent context. Text-based files (md, txt, json, yaml, etc.) have their content read; binary files are noted but content is not included.

**Debug Mode:**

Use `--debug` to see the full prompt that would be sent to the LLM without actually invoking it:

```
=== DEBUG: Rendered prompt that would be sent to agent ===
[Full prompt content]
=== END DEBUG ===
```

**Append Mode:**

Use `--append` to add the AI help directly to the original note instead of creating a separate help note. This appends a "## AI Help" section with a horizontal rule separator.

**Examples:**

```bash
# Get help with a specific note
rei note get-help note_01h455vb4pex

# Use fzf to select note
rei note get-help

# Get help with a specific focus
rei note get-help note_01h455vb4pex --focus "how to structure this document"

# Skip all guidance
rei note get-help note_01h455vb4pex --no-guidance

# Include attached documents in context
rei note get-help note_01h455vb4pex --include-doc

# Start an interactive session
rei note get-help note_01h455vb4pex -i

# Debug: see the prompt without invoking LLM
rei note get-help note_01h455vb4pex --debug

# Append help to the original note
rei note get-help note_01h455vb4pex --append
```

### remind

Create a reminder for a note. This is a shortcut for `rei reminder create --note`.

```bash
rei note remind [note-id] <description> --at <time>
```

**Arguments:**
- `[note-id]` — Note ID (optional if fzf is available)
- `<description>` — Reminder description

**Options:**
- `-t, --at <time>` — When to trigger the reminder (required)

> **FZF Support:** If the ID is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from existing notes.

**Examples:**

```bash
# Create a reminder for tomorrow
rei note remind note_01abc... "Review and update" --at tomorrow

# Let fzf pick the note
rei note remind "Follow up on notes" --at "1 week"
```

See [`rei reminder`](/docs/commands/reminder) for full reminder documentation.

### backlinks

Show notes that link to a given note via wikilinks (`[[Note Title]]`).

```bash
rei note backlinks [note-id]
```

**Arguments:**
- `[note-id]` — Note ID (optional if fzf is available)

> **FZF Support:** If the ID is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from existing notes.

**Output includes:**
- Source note ID
- Wikilink text (e.g., `[[Project Notes]]`)
- Line number where the link appears
- Display text if using alias syntax (`[[Target|Display Text]]`)
- Discovery timestamp

**Examples:**

```bash
# Show all notes linking to a specific note
rei note backlinks note_01h455vb4pex

# Use fzf to select note
rei note backlinks
```

### broken-links

Show unresolved wikilinks (references to notes that don't exist).

```bash
rei note broken-links [note-id]
```

**Arguments:**
- `[note-id]` — Optional: filter by source note

**Behavior:**
- Without argument: shows all broken links across all notes
- With note ID: shows only broken links from that specific note

**Output includes:**
- Source note ID
- Target title (the text inside `[[...]]`)
- Line number
- Display text if using alias syntax

**Examples:**

```bash
# Show all broken links
rei note broken-links

# Show broken links from a specific note
rei note broken-links note_01h455vb4pex
```

**Use Cases:**
- Finding orphaned references after renaming/deleting notes
- Discovering notes that need to be created
- Auditing note interconnections

### set-category

Assign a category to a note. Categories help classify and organize notes for filtering and organization.

```bash
rei note set-category [-n NOTE_ID] CATEGORY_SLUG
```

**Arguments:**
- `CATEGORY_SLUG` — Category slug (e.g., 'personal/health', 'work/meeting')

**Options:**
- `-n, --note <id>` — Note ID (optional if fzf is available)

> **FZF Support:** If `-n` is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from existing notes.

**Examples:**

```bash
# Set category with explicit note ID
rei note set-category -n note_01h455vb4pex personal/health

# Let fzf pick the note
rei note set-category personal/health
```

### clear-category

Remove the category from a note.

```bash
rei note clear-category [-n NOTE_ID]
```

**Options:**
- `-n, --note <id>` — Note ID (optional if fzf is available)

> **FZF Support:** If `-n` is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from existing notes.

**Examples:**

```bash
# Clear category with explicit note ID
rei note clear-category -n note_01h455vb4pex

# Let fzf pick the note
rei note clear-category
```

### embeds

Show embedded files discovered in a note. Notes can embed files using the `![[file.pdf]]` syntax, and this command shows which files are embedded.

```bash
rei note embeds [note-id]
```

**Arguments:**
- `[note-id]` — Note ID (optional if fzf is available)

> **FZF Support:** If note ID is not provided and [fzf](https://github.com/junegunn/fzf) is installed, an interactive picker will let you select from existing notes.

**Output includes:**
- File path (relative to workspace)
- Existence status (exists/missing)
- Line number where embed was found
- Discovery timestamp

**Examples:**

```bash
# Show embeds for a specific note
rei note embeds note_01h455vb4pex

# Use fzf to select note
rei note embeds
```

## File Embeds

Notes support embedding files using Obsidian-style syntax:

```markdown
See the diagram: ![[architecture.png]]

Reference: ![[research-paper.pdf]]
```

**Syntax:**
- `![[filename]]` — Embed a file from the workspace

**Processing:**
- Embeds are discovered when notes are created or updated
- The file path is resolved relative to the workspace docs directory
- Embed events are propagated to the anchor entity's stream
- Use `rei knowledge verify --embeds` to check for missing embedded files

## Wikilinks

Notes support wikilink syntax for linking between notes:

```markdown
See [[Project Notes]] for more details.

Check [[Meeting Notes|the meeting notes]] from last week.
```

**Syntax:**
- `[[Note Title]]` — Link to a note by title
- `[[Note Title|Display Text]]` — Link with custom display text

**Processing:**
- Wikilinks are discovered when notes are created or updated
- References are automatically resolved when a matching note title exists
- If a note is deleted or renamed, references may become "broken"

**Resolution:**
- When a note's title is extracted, any unresolved references matching that title are automatically resolved
- Use `rei note broken-links` to find unresolved references

## Workspace

Notes are stored as markdown files in your workspace directory (default: `.rei/notes/`).

You can edit them directly with any text editor or use `rei note open`.
